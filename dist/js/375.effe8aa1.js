"use strict";(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[375],{3029:function(t,e,n){n.d(e,{Z:function(){return u}});const o="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var a={randomUUID:o};n(4224),n(1121),n(7133);let l;const i=new Uint8Array(16);function s(){if(!l&&(l="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(i)}n(560);const r=[];for(let p=0;p<256;++p)r.push((p+256).toString(16).slice(1));function d(t,e=0){return r[t[e+0]]+r[t[e+1]]+r[t[e+2]]+r[t[e+3]]+"-"+r[t[e+4]]+r[t[e+5]]+"-"+r[t[e+6]]+r[t[e+7]]+"-"+r[t[e+8]]+r[t[e+9]]+"-"+r[t[e+10]]+r[t[e+11]]+r[t[e+12]]+r[t[e+13]]+r[t[e+14]]+r[t[e+15]]}function c(t,e,n){if(a.randomUUID&&!e&&!t)return a.randomUUID();t=t||{};const o=t.random||(t.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=o[t];return e}return d(o)}var u=c},1375:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var o=n(3396),a=n(9242),l=n(2239),i=n(4287),s=n(4870),r=n(3029),d=n(1020);const c=(0,d.Q_)("noteStore",{state:()=>({notes:[]}),getters:{},actions:{async fetchNotes(){try{const t=await(0,i.PL)(l.iJ);this.notes=t.docs.map((t=>({...t.data(),id:t.id})))}catch(t){console.log(t.message)}},async deleteNote(t){await(0,i.oe)((0,i.JU)(l.db,"notes",t))}}});var u=n(3245);const p=t=>((0,o.dD)("data-v-2fb2a53d"),t=t(),(0,o.Cn)(),t),v=p((()=>(0,o._)("label",{for:"title"},"Title",-1))),f=p((()=>(0,o._)("label",{for:"note"},"note",-1))),m=p((()=>(0,o._)("button",null,"Add",-1)));var _={__name:"AddNote",setup(t){const e=c(),n=(0,u.N)(),d=(0,s.iH)(!1),p=(0,s.qj)({title:"",note:"",id:null}),_=(0,s.iH)([]),b=async()=>{const t=await n.fetchBlogs();_.value=t};b();const g=()=>{(0,i.ET)(l.iJ,{title:p.title,note:p.note,blogTitle:_.value.title,id:(0,r.Z)()}).then((()=>{p.title="",p.note="",d.value=!1,e.fetchNotes()}))},w=()=>{d.value=!d.value};return(t,e)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("button",{class:"add-new-note",onClick:w},"add a note"),d.value?((0,o.wg)(),(0,o.iD)("form",{key:0,class:"add-note",onSubmit:(0,a.iM)(g,["prevent"])},[v,(0,o.wy)((0,o._)("input",{type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=t=>p.title=t),required:""},null,512),[[a.nr,p.title]]),f,(0,o.wy)((0,o._)("textarea",{name:"note",id:"note",cols:"40",rows:"15","onUpdate:modelValue":e[1]||(e[1]=t=>p.note=t),required:""},null,512),[[a.nr,p.note]]),m],32)):(0,o.kq)("",!0)],64))}},b=n(89);const g=(0,b.Z)(_,[["__scopeId","data-v-2fb2a53d"]]);var w=g,y=n(7139),h=n(2483);const U={class:"all-notes"},D=["onClick"];var k={__name:"SingleNote",setup(t){const e=(0,h.yj)(),n=(0,i.JU)(l.db,"blogs",e.params.id),a=c(),{notes:r}=(0,d.Jk)(a);a.fetchNotes();const u=(0,s.iH)({}),p=(0,s.iH)([]),v=(0,s.iH)([]),f=async()=>{await a.fetchNotes();const t=await(0,i.QT)(n);u.value=t.data(),p.value=r.value,v.value=p.value.filter((t=>t.blogTitle===u.value.title))};f();const m=t=>{a.deleteNote(t),a.fetchNotes()};return(t,e)=>((0,o.wg)(),(0,o.iD)("div",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(v.value,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"note",key:t.id},[(0,o._)("h5",null,(0,y.zw)(t.title),1),(0,o._)("p",null,(0,y.zw)(t.note),1),(0,o._)("p",null,(0,y.zw)(t.blogTitle),1),(0,o._)("button",{onClick:e=>m(t.id)},"delete",8,D)])))),128))]))}};const N=(0,b.Z)(k,[["__scopeId","data-v-be13cfac"]]);var I=N;n(560);const C=t=>((0,o.dD)("data-v-6f514871"),t=t(),(0,o.Cn)(),t),H=C((()=>(0,o._)("label",{for:"title"},"Title",-1))),T=C((()=>(0,o._)("label",{for:"content"},"Content",-1))),V=C((()=>(0,o._)("button",null,"Update",-1)));var x={__name:"EditBlog",setup(t){const e=(0,h.yj)(),n=(0,h.tv)(),r=(0,i.JU)(l.db,"blogs",e.params.id),d=(0,s.iH)({}),c=(0,s.qj)({title:"",content:""});(0,i.QT)(r).then((t=>{d.value=t.data(),c.title=d.value.title,c.content=d.value.content}));const u=()=>{(0,i.r7)(r,{title:c.title,content:c.content}).then((()=>{n.push({name:"blog",params:{id:e.params.id}})}))};return(t,e)=>((0,o.wg)(),(0,o.iD)("form",{class:"edit-blog",onSubmit:(0,a.iM)(u,["prevent"])},[H,(0,o.wy)((0,o._)("input",{type:"text",name:"title","onUpdate:modelValue":e[0]||(e[0]=t=>c.title=t)},null,512),[[a.nr,c.title]]),T,(0,o.wy)((0,o._)("textarea",{name:"context",id:"context",cols:"50",rows:"30","onUpdate:modelValue":e[1]||(e[1]=t=>c.content=t)},null,512),[[a.nr,c.content]]),V],32))}};const J=(0,b.Z)(x,[["__scopeId","data-v-6f514871"]]);var S=J;const Z={class:"edit-blotes"},j={class:"notes"},q={class:"blog"};var E={__name:"BlogEditView",setup(t){return(t,e)=>((0,o.wg)(),(0,o.iD)("div",Z,[(0,o._)("div",j,[(0,o.Wm)(w),(0,o.Wm)(I)]),(0,o._)("div",q,[(0,o.Wm)(S)])]))}};const z=(0,b.Z)(E,[["__scopeId","data-v-79a4f953"]]);var A=z}}]);
//# sourceMappingURL=375.effe8aa1.js.map